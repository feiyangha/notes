#**读书笔记——PHP入门篇、进阶篇(一)**
***
### 刚开始学php时比较容易忽略的知识点
  - 1 对于对于任何简单类型的变量，都可以将变量写入到一个由双引号引起来的字符串，如
         `echo "$str lalala<br />";` 
当双引号中包含变量时，变量会与双引号中的内容连接在一起，当单引号中包含变量时，变量会被当做字符串输出。一般能用双引号的地方，也可以用单引号，但是引用变量名称时单引号和双引号效果不同。

 - 2 php中定义字符串型用到一种比较特殊的方法：**Heredoc结构模式**
     首先使用定界符表示字符串（<<<），接着在“<<<“之后提供一个标识符GOOD，然后是字符串，最后以提供的这个标识符结束字符串。比如:
       
                      `$str = <<< GOOD
                                 我有一只小毛驴，我从来也不骑
                                 有一天我心血来潮，骑着去赶集。
                                 我手里拿着小皮鞭，我心里正得意。
                                不知怎么哗啦啦啦啦，我摔了一身泥.
                      GOOD;`
     heredoc字符串是插补的，跟双引号字符串一样。
- 3 两种特殊类型： 资源（resource）：资源是由专门的函数来建立和使用的，例如打开文件、数据连接、图形画布。我们可以对资源进行操作（创建、使用和释放）。NULL（NULL）：NULL是空类型，对大小写不敏感，NULL类型只有一个取值，表示一个变量没有值，当被赋值为NULL，或者尚未被赋值，或者被unset()，这三种情况下变量被认为为NULL。

- 4 php中的常量是用函数define()定义的，语法格式为
   `bool define(string $constant_name, mixed $value[,   $case_sensitive = true])`
   含义分别为标识符，常量值，对大小写是否敏感(值为true表示不敏感)。
***
### php中的重要内容

- 1 数组
     
    php中有两种数组：索引数组和关联数组。索引数组有三种赋值方式，举例 `$arr[0]='apple';`
     `arry('0'=>'apple');` `arry('apple')；` 左边是键，右边是值，最后一种默认键值从0开始。
     可以用**foreach()**函数索引数组里面所有的值。
     关联数组和索引数组的区别是针对数组的键而言，关联数组的键是字符串的数组，
              
             `$fruit = array(

                       'apple'=>"苹果",

                       'banana'=>"香蕉",

                       'pineapple'=>"菠萝"

                );`
    这就是一个关联数组，可以用**foreach()**函数索引各个数组里面所有的值。

- 2 函数  
   
    php中的函数声明时和原来学的有些语言不同，不需要定义函数返回值，用关键字function定义函数。
    我学到有可变函数和内置函数，所谓可变函数就是通过变量的值来调用函数，因为变量的值是可变的，所以可以通过改变一个变量的值来实现调用不同的函数。
   
           `function name() {
               			  echo 'jobs';
 			}
			$func = 'name';
			$func(); //调用可变函数`
    可变函数也可以用在对象的方法调用上。
    内置函数就是php默认支持的函数，如字符串替换的函数str_replace()等。

- 3 类和对象

     php中的类和对象和C++很像，就是所用的语法不同而已，其他基本和C++差不多，php类中的属性必须定义访问控制，为兼容PHP5以前的版本，如果采用 var 定义，则被视为公有。
     其中要注意的是静态属性与方法可以在不实例化类的情况下调用，直接使用`类名::方法名`的方式进行调用。静态属性不允许对象使用->操作符调用。

- 4 正则表达式

    PRECPCRE库函数中，正则匹配模式使用分隔符与元字符组成，分隔符可以是非数字、非反斜线、非空格的任意字符。经常使用的分隔符是正斜线(/)、hash符号(#) 以及取反符号(~)，例如：
    
         `/foo bar/
           #^[^0-9]$#
           ~php~`
    如果模式中包含分隔符，则分隔符需要使用反斜杠（\）进行转义。分隔符后面可以使用模式修饰符，模式修饰符包括：i, m, s, x等，例如使用i修饰符可以忽略大小写匹配：
         正则表达式中具有特殊含义的字符称之为元字符，常用的元字符有：

            \ 一般用于转义字符
            ^ 断言目标的开始位置(或在多行模式下是行首)
            $ 断言目标的结束位置(或在多行模式下是行尾)
           . 匹配除换行符外的任何字符(默认)
		    [ 开始字符类定义
			] 结束字符类定义
			| 开始一个可选分支
			( 子组的开始标记
			) 子组的结束标记
			? 作为量词，表示 0 次或 1 次匹配。位于量词后面用于改变量词的贪婪特性。 (查阅量词)
			* 量词，0 次或多次匹配
			+ 量词，1 次或多次匹配
			{ 自定义量词开始标记
			} 自定义量词结束标记
       元字符具有两种使用场景，一种是可以在任何地方都能使用，另一种是只能在方括号内使用，在方括号内使用的有：

            \ 转义字符
            ^ 仅在作为第一个字符(方括号内)时，表明字符类取反
           -标记字符范围
       正则表达式匹配是有两种模式，当使用+之后将会变的贪婪，它将匹配尽可能多的字符，但使用符号?字符时，它将尽可能少的匹配字符，既是懒惰模式。preg_match用来执行一个匹配，可以简单的用来判断模式是否匹配成功，或者取得一个匹配结果，他的返回值是匹配成功的次数0或者1，在匹配到1次以后就会停止搜索。
          
         `$subject = "abcdef";
          $pattern = '/a(.*?)d/';
          preg_match($pattern, $subject, $matches);
          print_r($matches); //结果为：Array ( [0] => abcd [1] => bc ) `
       preg_match只能匹配一次结果，但很多时候我们需要匹配所有的结果，preg_match_all可以循环获取一个列表的匹配结果数组。重要应用在表单应用上，
          
             <?php
              $user = array(
                  'name' => 'spark1985',
                  'email' => 'spark@imooc.com',
                  'mobile' => '13312345678'
              );
             //进行一般性验证
             if (empty($user)) {
                   die('用户信息不能为空');
             }
             if (strlen($user['name']) < 6) {
                   die('用户名长度最少为6位');
             }
             //用户名必须为字母、数字与下划线
             if (!preg_match('/^\w+$/i', $user['name'])) {
                   die('用户名不合法');
             }
             //验证邮箱格式是否正确
             if (!preg_match('/^[\w\.]+@\w+\.\w+$/i', $user['email'])) {
                   die('邮箱不合法');
             }
            //手机号必须为11位数字，且为1开头
            if (!preg_match('/^1\d{10}$/i', $user['mobile'])) {
                  die('手机号不合法');
            }
                  echo '用户信息验证成功';
            ?>